<!-- products/templates/products/product_detail.html -->
{% extends 'base.html' %}
{% load static %}
{% block content %}
<div class="container my-5">
    <h1 class="text-center mb-4">{{ product.name }} - {{ product.model }} - {{ product.size }}</h1>
    
    <div class="row">
        <!-- Product Image and Basic Info -->
        <div class="col-md-4 text-center mb-4">
            {% if product.images %}
                <img src="{{ product.images.url }}" alt="{{ product.name }}" class="img-fluid rounded shadow" style="max-height: 250px; object-fit: cover;">
            {% else %}
                <img src="{% static 'images/default_product.png' %}" alt="Default Product Image" class="img-fluid rounded shadow" style="max-height: 250px; object-fit: cover;">
            {% endif %}
        </div>

        <!-- Product Details -->
        <div class="col-md-8">
            <div class="card shadow">
                <div class="card-body">
                    <h5 class="card-title text-primary"><i class="fas fa-info-circle"></i> Product Details</h5>
                    <ul class="list-unstyled">
                        <li><strong>Material:</strong> {{ product.material }}</li>
                        <li><strong>Product Code:</strong> {{ product.product_code }}</li>
                        <li><strong>Category:</strong> {{ product.category.name }}</li>
                        <li><strong>Model:</strong> {{ product.model }}</li>
                        <li><strong>Size:</strong> {{ product.size }}</li>
                        <li><strong>Unit Cost:</strong> {{ product.unit_cost }}</li>
                        <li><strong>Price:</strong> {{ product.price }}</li>
                        <li><strong>Description:</strong> {{ product.description }}</li>
                        <li><strong>Warranty Information:</strong> {{ product.warranty_information }}</li>
                    </ul>
                    {% if product.technical_specification %}
                        <a href="{{ product.technical_specification.url }}" download class="btn btn-primary">
                            <i class="fas fa-download"></i> Download Technical Specification
                        </a>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>

    <!-- Edit & Delete Buttons -->
    <div class="mt-4 text-center">
        <a href="{% url 'products:product_edit' product.pk %}" class="btn btn-warning">
            <i class="fas fa-edit"></i> Edit Product
        </a>
        <a href="{% url 'products:product_delete' product.id %}" class="btn btn-danger">
            <i class="fas fa-trash"></i> Delete Product
        </a>
    </div>

    <!-- Back to Product List -->
    <div class="text-center mt-3">
        <a href="{% url 'products:product_list' %}" class="btn btn-secondary">
            <i class="fas fa-arrow-left"></i> Back to Product List
        </a>
    </div>
</div>

<!-- Delete Confirmation Script -->
<script>
    function confirmDelete(productId) {
        if (confirm("Are you sure you want to delete this product? This action cannot be undone!")) {
            window.location.href = `{% url 'products:product_delete' product.id %}`;
        }
    }
</script>

{% endblock %}
